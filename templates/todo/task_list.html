{% extends "base.html" %}
{% block content %}
  <div class="task-list-controls">
    <a class="create-link" href="{% url 'todo:task-create' %}">
      <i class="fa-solid fa-plus"></i>
      Create
    </a>
  </div>
  {% if task_list %}
    <div class="task-container">
      {% for task in task_list %}
        <div class="task-card">
          <form action="{% url 'todo:task-update-completed' task.pk %}" method=post>
            {% csrf_token %}
            <div class="checkbox-circle">
              <input type="checkbox"
                     id="checkbox-circle{{ forloop.counter }}"
                     name="check"
                     onclick="this.form.submit()"
                     {% if task.completed %}checked{% endif %}>
              <label for="checkbox-circle{{ forloop.counter }}"
                     {% if task.completed %}class="completed"{% endif %}>{{ task.title }}</label>
            </div>
          </form>
          <div class="task-card-controls">
            <a href="{% url 'todo:task-update' task.pk %}">
              <i class="fa-solid fa-pen-to-square"></i>
            </a>
            <a href="{% url 'todo:task-delete' task.pk %}">
              <i class="fa-solid fa-trash-can"></i>
            </a>
            <a href="{% url 'todo:task-detail' task.pk %}">
              <i class="fa-solid fa-angles-right"></i>
            </a>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <h1>You haven't created any tasks yet</h1>
  {% endif %}
{% endblock content %}
